
# –ü–ª–∞–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π APLink v6

## –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º (—Å –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞)

| ‚Ññ   | –ü—Ä–æ–±–ª–µ–º–∞                          | –°—Ç–∞—Ç—É—Å            |
| --- | --------------------------------- | ----------------- |
| 1   | –°—É–±—Ç–∏—Ç—Ä—ã "–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ—á–∏" –ø–æ—Å—Ç–æ—è–Ω–Ω–æ| üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ       |
| 2   | –î–æ—Å–∫–∞ - –∫—Ä–µ—Å—Ç–∏–∫ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| 3   | –†–∏—Å–æ–≤–∞–Ω–∏–µ –∏—Å—á–µ–∑–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ      | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ       |
| 4   | –ü–æ–∑–∏—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞ —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ    | üü° –°—Ä–µ–¥–Ω–µ–µ        |
| 5   | –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è - –¥—É–±–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤| üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ      |
| 6   | –ö—Ä–µ—Å—Ç–∏–∫ —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏| üü° –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–µ  |

---

## –ó–∞–¥–∞—á–∞ 1: –°—É–±—Ç–∏—Ç—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç ("–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ—á–∏")

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

–•—É–∫ `useRealtimeCaptions` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç **–æ—Ç–¥–µ–ª—å–Ω—ã–π** –ø–æ—Ç–æ–∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (`navigator.mediaDevices.getUserMedia`), –Ω–æ:
- –ù–∞ iOS/Safari —ç—Ç–æ –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å LiveKit –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –∑–∞—Ö–≤–∞—Ç–∏–ª –º–∏–∫—Ä–æ—Ñ–æ–Ω
- ElevenLabs API –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–µ–Ω

### –†–µ—à–µ–Ω–∏–µ: Web Speech API –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π Web Speech API** –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Chrome, Edge, Safari 14.1+
- –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- –ü—Ä–∏ –æ—à–∏–±–∫–µ - fallback –Ω–∞ ElevenLabs

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/hooks/useRealtimeCaptions.ts`

```typescript
// –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: —Å–Ω–∞—á–∞–ª–∞ Web Speech API (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
// –ï—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - ElevenLabs realtime WebSocket
// –ï—Å–ª–∏ –æ–±–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã - batch API

const useWebSpeech = useCallback(() => {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if (!SpeechRecognition) return false;
  
  const recognition = new SpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = true;
  recognition.lang = 'ru-RU'; // Auto-detect based on browser
  
  recognition.onresult = (event) => {
    const transcript = Array.from(event.results)
      .map(result => result[0].transcript)
      .join('');
      
    if (event.results[event.results.length - 1].isFinal) {
      // –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç - –ø–µ—Ä–µ–≤–æ–¥–∏–º
      translateAndShow(transcript);
    } else {
      // –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É
      addCaption(transcript, transcript + '...', true);
    }
  };
  
  recognition.onend = () => {
    if (enabled) recognition.start(); // –ê–≤—Ç–æ-—Ä–µ—Å—Ç–∞—Ä—Ç
  };
  
  recognition.start();
  return true;
});
```

---

## –ó–∞–¥–∞—á–∞ 2: –î–æ—Å–∫–∞ - –∫–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ö–Ω–æ–ø–∫–∞ `onClose` –≤ fullscreen-—Ä–µ–∂–∏–º–µ (–Ω–µ windowMode) –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (—Å—Ç—Ä–æ–∫–∏ 888-892, 977-984), –ù–û:
1. Event propagation –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
2. `data-preserve-cursor` attr –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∫–ª–∏–∫–∏

### –†–µ—à–µ–Ω–∏–µ

1. –î–æ–±–∞–≤–∏—Ç—å `e.stopPropagation()` –Ω–∞ –∫–Ω–æ–ø–∫–∏
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ z-index –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å pointer-events

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/components/CollaborativeWhiteboard.tsx`

```typescript
// –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è - –¥–æ–±–∞–≤–∏—Ç—å stopPropagation
<Button
  variant="ghost"
  size="icon"
  onClick={(e) => {
    e.stopPropagation();
    e.preventDefault();
    onClose();
  }}
  className="fixed top-4 right-4 z-[99999] ..."
>
```

–¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `windowMode={true}` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞.

---

## –ó–∞–¥–∞—á–∞ 3: –†–∏—Å–æ–≤–∞–Ω–∏–µ –∏—Å—á–µ–∑–∞–µ—Ç (–ö–†–ò–¢–ò–ß–ù–û - 5-–π —Ä–∞–∑)

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã (–Ω–∞–π–¥–µ–Ω–∞!)

–í `DrawingOverlay.tsx` —Å—Ç—Ä–æ–∫–∏ 819-870: laser animation loop –ø—Ä–æ–±–ª–µ–º–∞:

```typescript
// –ü–†–û–ë–õ–ï–ú–ê: putImageData —Å—Ç–∏—Ä–∞–µ—Ç –í–°–ï —á—Ç–æ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–æ –ø–æ—Å–ª–µ baseImageDataRef
if (!baseImageDataRef.current) {
  baseImageDataRef.current = ctx.getImageData(0, 0, canvas.width, canvas.height);
}
ctx.putImageData(baseImageDataRef.current, 0, 0); // –≠–¢–û –°–¢–ò–†–ê–ï–¢!
drawLaserPoints();
```

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è —Å laser –Ω–∞ pen –∏ —Ä–∏—Å—É–µ—Ç, animation loop **–í–°–Å –ï–©–Å –†–ê–ë–û–¢–ê–ï–¢** –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `putImageData`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö–æ–ª—Å—Ç–∞ –∏ —Å—Ç–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–µ —à—Ç—Ä–∏—Ö–∏.

### –†–µ—à–µ–Ω–∏–µ: –ø–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ laser loop

1. –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ü–û–õ–ù–û–°–¢–¨–Æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å animation loop
2. –ù–ï –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å baseImageData
3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `isLaserActive` –¥–ª—è –∂—ë—Å—Ç–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/components/DrawingOverlay.tsx`

```typescript
// –ù–û–í–´–ô: –ñ—ë—Å—Ç–∫–∏–π —Ñ–ª–∞–≥ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è laser loop
const isLaserActiveRef = useRef(false);

// –ü—Ä–∏ —Å–º–µ–Ω–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (—Å—Ç—Ä–æ–∫–∏ 410-441)
useEffect(() => {
  const prevTool = toolRef.current;
  toolRef.current = tool;
  
  if (tool === 'laser') {
    // –í–∫–ª—é—á–∞–µ–º laser —Ä–µ–∂–∏–º
    isLaserActiveRef.current = true;
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–ï–ö–£–©–ï–ï —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö–æ–ª—Å—Ç–∞
    const canvas = canvasRef.current;
    const ctx = contextRef.current;
    if (canvas && ctx) {
      baseImageDataRef.current = ctx.getImageData(0, 0, canvas.width, canvas.height);
    }
  } else {
    // –í–´–ö–õ–Æ–ß–ê–ï–ú laser —Ä–µ–∂–∏–º –ü–û–õ–ù–û–°–¢–¨–Æ
    isLaserActiveRef.current = false;
    baseImageDataRef.current = null; // –û—á–∏—â–∞–µ–º cache
    laserPointsRef.current = [];
    
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º animation
    if (laserAnimationRef.current) {
      cancelAnimationFrame(laserAnimationRef.current);
      laserAnimationRef.current = null;
    }
  }
}, [tool]);

// Animation loop - –ñ–Å–°–¢–ö–ê–Ø –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 821-870)
const animate = () => {
  // –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–ª–∞–≥ –ü–ï–†–ï–î –ª—é–±–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π
  if (!isLaserActiveRef.current || toolRef.current !== 'laser') {
    // –ù–ï–ú–ï–î–õ–ï–ù–ù–û –≤—ã—Ö–æ–¥–∏–º, –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π frame
    laserAnimationRef.current = null;
    baseImageDataRef.current = null;
    return;
  }
  
  // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ laser –∞–∫—Ç–∏–≤–µ–Ω - —Ä–∏—Å—É–µ–º
  if (laserPointsRef.current.length > 0 && baseImageDataRef.current) {
    ctx.putImageData(baseImageDataRef.current, 0, 0);
    drawLaserPoints();
  }
  
  laserAnimationRef.current = requestAnimationFrame(animate);
};
```

---

## –ó–∞–¥–∞—á–∞ 4: –ü–æ–∑–∏—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–¢–∞–π–º–µ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ `y: 70` (—Å—Ç—Ä–æ–∫–∞ 65), –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –µ—â—ë –±–ª–∏–∂–µ.

### –†–µ—à–µ–Ω–∏–µ
–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `y: 56` - –ø—Ä—è–º–æ –ø–æ–¥ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª—å—é (–≤—ã—Å–æ—Ç–∞ –ø–∞–Ω–µ–ª–∏ ~48px + –æ—Ç—Å—Ç—É–ø 8px).

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/components/CallTimer.tsx`

```typescript
const defaultPos = {
  x: Math.max(0, (window.innerWidth - PANEL_WIDTH) / 2),
  y: 56  // –ë—ã–ª–æ 70, —Ç–µ–ø–µ—Ä—å –ø—Ä—è–º–æ –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é
};
```

---

## –ó–∞–¥–∞—á–∞ 5: –ú–æ–±–∏–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (–¥—É–±–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)

### –ü—Ä–∏—á–∏–Ω–∞
–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ 2+ —É—á–∞—Å—Ç–Ω–∏–∫–∞ "–í—ã" - —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç reconnect storm –≥–¥–µ:
1. –ú–æ–±–∏–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å
2. LiveKit –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
3. –°—Ç–∞—Ä—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –µ—â—ë –Ω–µ –æ—Ç–∫–ª—é—á–∏–ª—Å—è
4. –°–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —Å —Ç–µ–º –∂–µ identity

### –†–µ—à–µ–Ω–∏–µ: –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å + –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∑–∞—â–∏—Ç–∞

#### –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
Token cache 3 —Å–µ–∫—É–Ω–¥—ã –≤ `livekit-token` edge function

#### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ - —É—Å–∏–ª–∏—Ç—å –∑–∞—â–∏—Ç—É

–í `src/components/LiveKitRoom.tsx`:

```typescript
// –£–≤–µ–ª–∏—á–∏—Ç—å debounce –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
const FETCH_DEBOUNCE_MS = isMobile ? 5000 : 3000;

// –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ duplicate room join
const lastJoinAttemptRef = useRef<{ room: string; time: number } | null>(null);

// –í fetchToken:
const now = Date.now();
const lastAttempt = lastJoinAttemptRef.current;
if (lastAttempt && 
    lastAttempt.room === roomName && 
    now - lastAttempt.time < 5000) {
  console.log('[LiveKitRoom] Duplicate join attempt blocked');
  return;
}
lastJoinAttemptRef.current = { room: roomName, time: now };
```

–í `src/contexts/ActiveCallContext.tsx`:

```typescript
// –î–æ–±–∞–≤–∏—Ç—å deviceId –∫ identity –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
const getDeviceId = () => {
  let id = localStorage.getItem('aplink_device_id');
  if (!id) {
    id = crypto.randomUUID().slice(0, 8);
    localStorage.setItem('aplink_device_id', id);
  }
  return id;
};

// –ü—Ä–∏ startCall - –¥–æ–±–∞–≤–∏—Ç—å deviceId –µ—Å–ª–∏ –Ω–µ—Ç identity
const identity = params.participantIdentity || 
  `guest-${getDeviceId()}-${Date.now().toString(36)}`;
```

---

## –ó–∞–¥–∞—á–∞ 6: –ö—Ä–µ—Å—Ç–∏–∫ —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏

–£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ DrawingOverlay.

```typescript
// –ë—ã–ª–æ: w-12 h-12
// –°—Ç–∞–Ω–µ—Ç: w-10 h-10
<Button
  ...
  className="fixed top-4 right-4 z-[99999] w-10 h-10 rounded-full..."
>
  <X className="w-5 h-5 text-white" />
</Button>
```

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–†–∏—Å–æ–≤–∞–Ω–∏–µ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç** - –ö—Ä–∏—Ç–∏—á–Ω–æ, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ laser loop
2. **–î–æ—Å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ö—Ä–∏—Ç–∏—á–Ω–æ, event propagation fix
3. **–°—É–±—Ç–∏—Ç—Ä—ã –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ** - –ö—Ä–∏—Ç–∏—á–Ω–æ, Web Speech API
4. **–ú–æ–±–∏–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –ö—Ä–∏—Ç–∏—á–Ω–æ, debounce + deviceId
5. **–ü–æ–∑–∏—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞** - –°—Ä–µ–¥–Ω–µ–µ
6. **–†–∞–∑–º–µ—Ä –∫—Ä–µ—Å—Ç–∏–∫–∞** - –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–µ

---

## –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `src/hooks/useRealtimeCaptions.ts` | Web Speech API –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ |
| `src/components/DrawingOverlay.tsx` | Fix laser loop, —É–º–µ–Ω—å—à–∏—Ç—å –∫—Ä–µ—Å—Ç–∏–∫ |
| `src/components/CollaborativeWhiteboard.tsx` | stopPropagation –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö |
| `src/components/CallTimer.tsx` | y: 56 |
| `src/components/LiveKitRoom.tsx` | –£–≤–µ–ª–∏—á–∏—Ç—å debounce –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö |
| `src/contexts/ActiveCallContext.tsx` | DeviceId –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ |

---

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –°—É–±—Ç–∏—Ç—Ä—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ú–ì–ù–û–í–ï–ù–ù–û –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ (Web Speech API)
- ‚úÖ –†–∏—Å—É–Ω–∫–∏ –ù–ï –∏—Å—á–µ–∑–∞—é—Ç - laser loop –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–æ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–¥—ë–∂–Ω–æ
- ‚úÖ –¢–∞–π–º–µ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º–æ –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ö—Ä–µ—Å—Ç–∏–∫ —Ä–∏—Å–æ–≤–∞–Ω–∏—è –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏
